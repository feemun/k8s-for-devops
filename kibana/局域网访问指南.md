# Kibana 8.11.0 å±€åŸŸç½‘è®¿é—®æŒ‡å—

## ğŸ“‹ æœåŠ¡ä¿¡æ¯

- **Kibanaç‰ˆæœ¬**: 8.11.0
- **Elasticsearchç‰ˆæœ¬**: 8.11.0 (å·²é›†æˆ)
- **Kuberneteså‘½åç©ºé—´**: `kibana`
- **éƒ¨ç½²æ—¶é—´**: $(date)

## ğŸ”Œ ç«¯å£é…ç½®

| æœåŠ¡ç±»å‹ | å†…éƒ¨ç«¯å£ | å¤–éƒ¨ç«¯å£ | åè®® | ç”¨é€” |
|---------|---------|---------|------|------|
| ClusterIP | 5601 | - | HTTP | é›†ç¾¤å†…è®¿é—® |
| NodePort | 5601 | 30561 | HTTP | å¤–éƒ¨è®¿é—® |

## ğŸŒ è®¿é—®æ–¹å¼

### æ–¹å¼ä¸€ï¼šç«¯å£è½¬å‘è®¿é—® (æ¨è)

```bash
# å¯åŠ¨ç«¯å£è½¬å‘
kubectl port-forward --address 0.0.0.0 -n kibana svc/kibana-service 5601:5601

# è®¿é—®åœ°å€
http://localhost:5601
```

**ä¼˜ç‚¹**: ç¨³å®šå¯é ï¼Œé€‚åˆå¼€å‘è°ƒè¯•
**ç¼ºç‚¹**: éœ€è¦ä¿æŒç»ˆç«¯è¿æ¥

### æ–¹å¼äºŒï¼šNodePort ç›´æ¥è®¿é—®

```bash
# è·å– Minikube IP
minikube ip

# è®¿é—®åœ°å€ (å‡è®¾ IP ä¸º 192.168.49.2)
http://192.168.49.2:30561
```

**ä¼˜ç‚¹**: æ— éœ€ç«¯å£è½¬å‘ï¼Œå±€åŸŸç½‘ç›´æ¥è®¿é—®
**ç¼ºç‚¹**: å¯èƒ½å—ç½‘ç»œé…ç½®å½±å“

### æ–¹å¼ä¸‰ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬

```bash
# è¿è¡Œå¯åŠ¨è„šæœ¬
bash kibana/start-kibana-lan.sh
```

## ğŸ”— Elasticsearch é›†æˆ

Kibana å·²é…ç½®è¿æ¥åˆ° Elasticsearch æœåŠ¡ï¼š

- **è¿æ¥åœ°å€**: `http://elasticsearch-service.elasticsearch.svc.cluster.local:9200`
- **é›†ç¾¤åç§°**: `docker-cluster`
- **å®‰å…¨é…ç½®**: å·²ç¦ç”¨ (å¼€å‘ç¯å¢ƒ)

## ğŸ§ª åŠŸèƒ½æµ‹è¯•

### 1. åŸºæœ¬è¿æ¥æµ‹è¯•

```bash
# æµ‹è¯• Kibana çŠ¶æ€
curl http://localhost:5601/api/status

# æµ‹è¯• Elasticsearch è¿æ¥
curl http://localhost:5601/api/console/proxy?path=_cluster/health&method=GET
```

### 2. åˆ›å»ºç´¢å¼•æ¨¡å¼

1. è®¿é—® Kibana Web ç•Œé¢
2. è¿›å…¥ "Stack Management" > "Index Patterns"
3. åˆ›å»ºæ–°çš„ç´¢å¼•æ¨¡å¼
4. ä½¿ç”¨ä¹‹å‰åœ¨ Elasticsearch ä¸­åˆ›å»ºçš„ `test-index`

### 3. æ•°æ®å¯è§†åŒ–

1. è¿›å…¥ "Discover" æŸ¥çœ‹æ•°æ®
2. ä½¿ç”¨ "Visualize" åˆ›å»ºå›¾è¡¨
3. åœ¨ "Dashboard" ä¸­ç»„åˆå¤šä¸ªå¯è§†åŒ–

## ğŸ› ï¸ ç®¡ç†å‘½ä»¤

### Pod ç®¡ç†

```bash
# æŸ¥çœ‹ Pod çŠ¶æ€
kubectl get pods -n kibana

# æŸ¥çœ‹ Pod è¯¦æƒ…
kubectl describe pod -n kibana

# æŸ¥çœ‹ Pod æ—¥å¿—
kubectl logs -n kibana deployment/kibana -f
```

### æœåŠ¡ç®¡ç†

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
kubectl get svc -n kibana

# æŸ¥çœ‹æœåŠ¡è¯¦æƒ…
kubectl describe svc -n kibana kibana-service
```

### é…ç½®ç®¡ç†

```bash
# æŸ¥çœ‹é…ç½®
kubectl get configmap -n kibana kibana-config -o yaml

# æ›´æ–°é…ç½®åé‡å¯
kubectl rollout restart deployment/kibana -n kibana
```

## ğŸ”§ æ•…éšœæ’é™¤

### 1. Pod æ— æ³•å¯åŠ¨

```bash
# æ£€æŸ¥ Pod äº‹ä»¶
kubectl describe pod -n kibana

# æ£€æŸ¥èµ„æºé™åˆ¶
kubectl top pod -n kibana
```

### 2. æ— æ³•è¿æ¥ Elasticsearch

```bash
# æ£€æŸ¥ Elasticsearch çŠ¶æ€
kubectl get pods -n elasticsearch

# æµ‹è¯•ç½‘ç»œè¿æ¥
kubectl exec -n kibana deployment/kibana -- curl -s http://elasticsearch-service.elasticsearch.svc.cluster.local:9200
```

### 3. è®¿é—®è¶…æ—¶

```bash
# æ£€æŸ¥æœåŠ¡ç«¯ç‚¹
kubectl get endpoints -n kibana

# æ£€æŸ¥ç½‘ç»œç­–ç•¥
kubectl get networkpolicy -n kibana
```

## ğŸ“Š æ€§èƒ½ç›‘æ§

### èµ„æºä½¿ç”¨æƒ…å†µ

```bash
# æŸ¥çœ‹èµ„æºä½¿ç”¨
kubectl top pod -n kibana

# æŸ¥çœ‹èµ„æºé™åˆ¶
kubectl describe pod -n kibana | grep -A 5 "Limits\|Requests"
```

### æ—¥å¿—ç›‘æ§

```bash
# å®æ—¶æŸ¥çœ‹æ—¥å¿—
kubectl logs -n kibana deployment/kibana -f

# æŸ¥çœ‹æœ€è¿‘æ—¥å¿—
kubectl logs -n kibana deployment/kibana --tail=100
```

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

### å¼€å‘ç¯å¢ƒé…ç½®

- âœ… å·²ç¦ç”¨ X-Pack å®‰å…¨åŠŸèƒ½
- âœ… ä½¿ç”¨å›ºå®šåŠ å¯†å¯†é’¥
- âš ï¸ ä»…é€‚ç”¨äºå¼€å‘ç¯å¢ƒ

### ç”Ÿäº§ç¯å¢ƒå»ºè®®

- ğŸ” å¯ç”¨ X-Pack å®‰å…¨åŠŸèƒ½
- ğŸ”‘ é…ç½®ç”¨æˆ·è®¤è¯å’Œæˆæƒ
- ğŸ›¡ï¸ ä½¿ç”¨ HTTPS è¿æ¥
- ğŸ”’ å®šæœŸæ›´æ–°åŠ å¯†å¯†é’¥

## ğŸ“š å¸¸ç”¨æ“ä½œ

### 1. é‡å¯æœåŠ¡

```bash
kubectl rollout restart deployment/kibana -n kibana
```

### 2. æ‰©ç¼©å®¹

```bash
# æ‰©å±•åˆ° 2 ä¸ªå‰¯æœ¬
kubectl scale deployment/kibana --replicas=2 -n kibana
```

### 3. æ›´æ–°é…ç½®

```bash
# ç¼–è¾‘é…ç½®
kubectl edit configmap/kibana-config -n kibana

# é‡å¯åº”ç”¨é…ç½®
kubectl rollout restart deployment/kibana -n kibana
```

## ğŸ†˜ æŠ€æœ¯æ”¯æŒ

å¦‚é‡é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. **Pod çŠ¶æ€**: `kubectl get pods -n kibana`
2. **æœåŠ¡çŠ¶æ€**: `kubectl get svc -n kibana`
3. **Elasticsearch è¿æ¥**: `kubectl get pods -n elasticsearch`
4. **ç½‘ç»œè¿é€šæ€§**: ä½¿ç”¨ç«¯å£è½¬å‘æµ‹è¯•
5. **èµ„æºä½¿ç”¨**: `kubectl top pod -n kibana`

---

**åˆ›å»ºæ—¶é—´**: $(date)
**ç‰ˆæœ¬**: Kibana 8.11.0 + Elasticsearch 8.11.0
**ç¯å¢ƒ**: Kubernetes + Minikube